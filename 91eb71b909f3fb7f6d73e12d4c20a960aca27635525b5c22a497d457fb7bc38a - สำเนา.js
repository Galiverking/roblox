!function(){var t={7544:function(e,n,t){var r={"./experimentationConstants.js":9433,"./loginConstants.js":3170};function i(e){e=o(e);return t(e)}function o(e){if(t.o(r,e))return r[e];e=new Error("Cannot find module '"+e+"'");throw e.code="MODULE_NOT_FOUND",e}i.keys=function(){return Object.keys(r)},i.resolve=o,(e.exports=i).id=7544},8126:function(e,n,t){var r={"./loginController.js":8481,"./loginFormController.js":2350,"./verifyEmailController.js":6024};function i(e){e=o(e);return t(e)}function o(e){if(t.o(r,e))return r[e];e=new Error("Cannot find module '"+e+"'");throw e.code="MODULE_NOT_FOUND",e}i.keys=function(){return Object.keys(r)},i.resolve=o,(e.exports=i).id=8126},5286:function(e,n,t){var r={"./loginBaseDirective.js":5008,"./loginFormDirective.js":5578};function i(e){e=o(e);return t(e)}function o(e){if(t.o(r,e))return r[e];e=new Error("Cannot find module '"+e+"'");throw e.code="MODULE_NOT_FOUND",e}i.keys=function(){return Object.keys(r)},i.resolve=o,(e.exports=i).id=5286},6474:function(e,n,t){var r={"./experimentationService.js":5387,"./loginService.js":4260};function i(e){e=o(e);return t(e)}function o(e){if(t.o(r,e))return r[e];e=new Error("Cannot find module '"+e+"'");throw e.code="MODULE_NOT_FOUND",e}i.keys=function(){return Object.keys(r)},i.resolve=o,(e.exports=i).id=6474},3599:function(e,n,t){var r={"./controllers/templates/verifyEmail.html":1518,"./directives/templates/loginBase.html":5686,"./directives/templates/loginForm.html":367};function i(e){e=o(e);return t(e)}function o(e){if(t.o(r,e))return r[e];e=new Error("Cannot find module '"+e+"'");throw e.code="MODULE_NOT_FOUND",e}i.keys=function(){return Object.keys(r)},i.resolve=o,(e.exports=i).id=3599},726:function(e){function o(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function a(e){return e.split("/").pop().replace(".html","")}var n={importFilesUnderPath:function(e){e.keys().forEach(e)},templateCacheGenerator:function(e,n,r,i){return e.module(n,[]).run(["$templateCache",function(t){r&&r.keys().forEach(function(e){var n=o(a(e));t.put(n,r(e))}),i&&i.keys().forEach(function(e){var n=o(a(e));t.put(n,i(e).replace(/<\/?script[^>]*>/gi,""))})}])}};e.exports=n},9433:function(e,n,t){"use strict";t.r(n),n.default={Login:{Layer:"Website.Login",Parameters:["CrossDeviceButtonText"]},InvalidCredentials:{Layer:"Website.Login.InvalidCredentials",Parameters:["CrossDeviceLoginFailLimit","CrossDeviceLoginFailErrorText"]}}},3170:function(e,n,t){"use strict";t.r(n);var r={urls:{metaData:"/login/meta-data",metaDataV2:"/v2/metadata",loginApi:"/v2/login",credentialsVerificationApi:"/v2/credentials/verification",credentialsVerificationSendApi:"/v2/credentials/verification/send",loginCaptchaApi:"/captcha/validate/login",twoStepVerification:"/login/twostepverification",forgotCredentials:"/login/forgot-password-or-username",games:"/discover",home:"/home",login:"/login",redirectToFb:"/social/redirect-to-facebook",signUpRedirect:"/account/signupredir",authTokenMetadata:"/auth-token-service/v1/login/metadata",koreaIdVerification:"/id-verification/korea/login"},templates:{verifyEmail:"verify-email"},controllers:{verifyEmail:"verifyEmailController"},errorCodes:{unknownError:0,badCredentials:1,captcha:2,accountNotFound:3,passwordResetRequired:4,noPassword:5,accountIssue:6,tooManyAttempts:7,defaultLoginRequired:9,unverifiedCredentials:10,captchaLoadFailed:11,captchaVerifyFailed:12,captchaUnknownError:13,luoBuUserDenied:14,screentimeRestricted:16,securityQuestionRequired:18,securityQuestionFailed:19},sendVerificationEmailErrorCodes:{tooManyAttempts:2},statusCodes:{flooded:429},retryAttempts:{maxInvalidatedChallengeAttempts:3},credentialTypes:{username:"Username",email:"Email",phone:"PhoneNumber",authToken:"AuthToken"},urlQueryNames:{errorCode:"errorCode",cType:"ctype",username:"username"},counters:{prefix:"WebsiteLogin_",firstAttempt:"FirstAttempt",attempt:"Attempt",success:"Success",captcha:"Captcha",passwordResetRequired:"PasswordResetRequired",unverifiedAccount:"UnverifiedAccount",invalidCredentials:"InvalidCredentials",accountNotFound:"AccountNotFound",noPassword:"NoPassword",accountIssue:"AccountIssue",tooManyAttempts:"TooManyAttempts",defaultLoginRequired:"DefaultLoginRequired",redirectToLogin:"RedirectToLogin",captchaLoadFailed:"CaptchaLoadFailed",captchaVerifyFailed:"CaptchaVerifyFailed",captchaUnknownError:"CaptchaUnknownError",luoBuUserDenied:"LuoBuUserDenied",screentimeRestricted:"ScreenTimeRestricted",unknownError:"UnknownError"},newLoginQueryString:"nl=true",loginSubmitButtonName:"loginSubmit",quickLoginButtonName:"loginOtherDevice",fbLoginButtonName:"fbLoginSubmit",landingContext:"landing",atSymbol:"@",verifyEmailContextSuffix:"_verifyEmail",securityQuestionsModalContainerId:"securityQuestionsModal-container"};t(1030).Z.constant("loginConstants",r),n.default=r},8481:function(e,n,t){"use strict";t.r(n);var r=t(1030),a=t(792);function i(n,t,r,i,e){var o=a.EnvironmentUrls.websiteUrl+e.urls.signUpRedirect;n.loginData={signUpUrl:o},n.init=function(){a.Popover&&a.Popover.init();var e=r.getReturnUrl();e&&n.appendReturnUrlToSignUpUrl(e)},n.appendReturnUrlToSignUpUrl=function(e){e&&(e={returnUrl:e},e=i.urlQueryStringPrefix+t(e),n.loginData.signUpUrl=o+e)},n.init()}i.$inject=["$scope","$httpParamSerializerJQLike","loginService","urlConstants","loginConstants"],r.Z.controller("loginController",i),n.default=i},2350:function(e,n,t){"use strict";t.r(n);var r=t(5734),p=t.n(r),v=t(792),r=t(1030),y=t(5387),h=t(9433);function C(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var t=[],r=!0,i=!1,o=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(t.push(a.value),!n||t.length!==n);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(i)throw o}}return t}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return i(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return i(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function s(e,n,t,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){return void t(e)}l.done?n(s):Promise.resolve(s).then(r,i)}function E(l){return function(){var e=this,a=arguments;return new Promise(function(n,t){var r=l.apply(e,a);function i(e){s(r,n,t,i,o,"next",e)}function o(e){s(r,n,t,i,o,"throw",e)}i(void 0)})}}function o(s,e,i,t,o,n,r,a,l,c,u,d,g,m){s.loginFormData={forgotCredentialsUrl:v.EnvironmentUrls.websiteUrl+u.urls.forgotCredentials,homeUrl:v.EnvironmentUrls.websiteUrl+u.urls.home,loginPageUrl:v.EnvironmentUrls.websiteUrl+u.urls.login,redirectToFb:v.EnvironmentUrls.websiteUrl+u.urls.redirectToFb},s.loginLayout={isFirstSubmit:!0},s.forms={},s.loginParams=s.loginParams||{},s.crossDeviceLoginParams={},s.funCaptchaSetting={},s.invalidCredentialsCount=0,s.numberOfFailedTwoStepVerificationChallengeAttempts=0,s.identityVerificationLoginTicket=null,s.loginPageIXP={Enabled:!1,ButtonText:"",InvalidCredentialsExperimentEnabled:!1,LoginCredentialFailLimit:1,ErrorStart:"",ErrorLink:"",ErrorEnd:""},s.crossDeviceButtonText="";var f=s.$watch(function(){return s.loginParams},function(e){var n;e&&((n=v.ReactLoginService.utils.getURlParamValue(u.urlQueryNames.errorCode))&&!s.loginParams.redirectToLoginPageOnError?(e=v.ReactLoginService.utils.getURlParamValue(u.urlQueryNames.cType),s.loginFormData.credentialValue=v.ReactLoginService.utils.getURlParamValue(u.urlQueryNames.username),s.setEnteredCredentialType(e),s.loginLayout.error=s.getErrorMessage(parseInt(n,10))):s.loginFormData.credentialValue=null)},!0);window.addEventListener("OnCrossDeviceCodeValidated",function(e){s.crossDeviceLoginParams.code=e.detail.code,s.crossDeviceLoginParams.enteredCredentialType=e.detail.ctype,s.crossDeviceLoginParams.privateKey=e.detail.privateKey,s.setEnteredCredentialType(e.detail.ctype),s.loginLayout.isProcessing=!0,s.login()},!1),i.addEventListener("ReactCaptchaSuccess",function(e){e=e.detail.data;s.handleCaptchaSuccess(e)},!1),i.addEventListener("ReactCaptchaError",function(e){e=e.detail.errorCode;s.handleCaptchaError(e)},!1),s.$on("$destroy",function(){f()}),s.init=function(e){v.ReactLoginService.getAuthTokenMetadata().then(function(e){s.crossDeviceLoginParams.IsLoginCodeButtonDisplayed=null==e?void 0:e.IsLoginCodeButtonDisplayed,s.loginPageIXP.Enabled=(null==e?void 0:e.ShouldEnableCrossDeviceLoginInitiatorExperiments)&&y.default.isBrowserLanguageEnglish(),s.loginPageIXP.Enabled&&y.default.getIXPEnrollments(h.default.Login).then(function(e){s.loginPageIXP.ButtonText=e.CrossDeviceButtonText,s.$apply()})}),s.loginLayout.isProcessing=!1},s.handleCaptchaError=function(e){var n=v.ReactLoginService.utils.getLoginErrorCodeFromCaptchaErrorCode(e);t(function(){s.loginLayout.isProcessing=!1,s.setErrorMessage(n,!0)})},s.handleCaptchaSuccess=function(e){s.loginLayout.forceCaptcha=!1,s.loginFormData.enteredCredentialType===u.credentialTypes.authToken?s.login(e):s.submit(!1,e)},s.setEnteredCredentialType=function(e){e?s.loginFormData.enteredCredentialType=e:v.ReactLoginService.utils.isValidEmail(s.loginFormData.credentialValue)?s.loginFormData.enteredCredentialType=u.credentialTypes.email:a.isPhoneNumber(s.loginFormData.credentialValue)?s.loginFormData.enteredCredentialType=u.credentialTypes.phone:s.loginFormData.enteredCredentialType=u.credentialTypes.username},s.login=function(e){var n=v.ReactLoginService.utils.isValidEmail(s.loginFormData.credentialValue),t=a.isPhoneNumber(s.loginFormData.credentialValue),r=s.loginFormData.enteredCredentialType===u.credentialTypes.authToken;s.loginFormData.isDefaultLoginRequired||r||(n?s.loginFormData.enteredCredentialType=u.credentialTypes.email:t&&(s.loginFormData.enteredCredentialType=u.credentialTypes.phone)),n||t||g.clear();r={cvalue:r?s.crossDeviceLoginParams.code:s.loginFormData.credentialValue,ctype:(r?s.crossDeviceLoginParams:s.loginFormData).enteredCredentialType,password:r?s.crossDeviceLoginParams.privateKey:s.loginFormData.password};null!=e&&(r.captchaId=e.captchaId,r.captchaToken=e.captchaToken,r.captchaProvider=e.captchaProvider),c.login(r).then(function(e){v.ReactLoginService.utils.incrementEphemeralCounter(u.counters.success);var n,e=e.data;e&&e.tl?n=e.tl:e&&e.twoStepVerificationData&&(n=e.twoStepVerificationData.ticket),n?(s.userId=e.user.id,s.challengeId=n,n={userId:e.user.id,challengeId:n,onChallengeCompleted:s.receiveTwoStepChallengeToken,onChallengeInvalidated:s.handleInvalidatedTwoStepVerificationChallenge,onModalChallengeAbandoned:s.on2svModalChallengeAbandoned,onUnknownError:s.showUnknownError},n=new CustomEvent("render2svChallenge",{detail:{inputParams:n}}),window.dispatchEvent(n)):e&&e.identityVerificationLoginTicket?(s.identityVerificationLoginTicket=e.identityVerificationLoginTicket,v.ReactIdentityVerificationService.storeIdentityVerificationLoginTicket(e.identityVerificationLoginTicket),s.showIdentityVerificationNoticeModal()):i.location.href=s.getRedirectUrl(e)},function(e){s.handleLoginError(e.data,e.status)})},s.on2svModalChallengeAbandoned=function(){t(function(){s.loginLayout.isProcessing=!1})},s.handleInvalidatedTwoStepVerificationChallenge=function(){s.numberOfFailedTwoStepVerificationChallengeAttempts+=1,s.loginLayout.error=l.get("Response.VerificationError"),s.numberOfFailedTwoStepVerificationChallengeAttempts<u.retryAttempts.maxInvalidatedChallengeAttempts?s.login():s.loginLayout.error=l.get("Response.VerificationError")},s.receiveTwoStepChallengeToken=function(e){c.loginWithVerificationToken(s.userId,s.challengeId,e.verificationToken,e.rememberDevice).then(function(e){e?(s.twoStepVerificationReturnUrl=r.getAbsoluteUrl("/"),e.identityVerificationLoginTicket?(v.ReactIdentityVerificationService.storeIdentityVerificationLoginTicket(data.identityVerificationLoginTicket),s.showIdentityVerificationNoticeModal()):(s.loginParams.returnUrl?s.twoStepVerificationReturnUrl=s.loginParams.returnUrl:s.loginParams.redirectToHomePostLogin||(s.twoStepVerificationReturnUrl=s.getCurrentLocation()),i.location.href=s.twoStepVerificationReturnUrl)):s.loginLayout.error=l.get("Response.VerificationError")}).catch(function(){s.showUnknownError()})},s.getInvalidCredentialsEnrollments=E(regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.default.getIXPEnrollments(h.default.InvalidCredentials);case 2:n=e.sent,s.loginPageIXP.InvalidCredentialsExperimentEnabled=!(null==n||!n.CrossDeviceLoginFailErrorText),s.loginPageIXP.InvalidCredentialsExperimentEnabled&&(s.loginPageIXP.LoginCredentialFailLimit=n.CrossDeviceLoginFailLimit||1,n=n.CrossDeviceLoginFailErrorText.split("|"),n=C(n,3),s.loginPageIXP.ErrorStart=n[0],s.loginPageIXP.ErrorLink=n[1],s.loginPageIXP.ErrorEnd=n[2]),s.applyInvalidCredentialsEnrollments(),s.$apply();case 7:case"end":return e.stop()}},e)})),s.applyInvalidCredentialsEnrollments=function(){s.loginLayout.showCrossDeviceError=s.loginPageIXP.InvalidCredentialsExperimentEnabled&&s.loginLayout.error&&s.invalidCredentialsCount>=s.loginPageIXP.LoginCredentialFailLimit},s.handleLoginError=function(e,n){if(n!==u.statusCodes.flooded){var t=e&&e.errors&&0<e.errors.length&&e.errors[0].code;switch(t){case u.errorCodes.captcha:var r="",i="";if(e.errors&&0<e.errors.length&&e.errors[0].fieldData){var o,a=e.errors[0].fieldData;if(null!=a)try{r=(o=JSON.parse(a)).dxBlob,i=o.unifiedCaptchaId}catch(e){r=a}}var l=new CustomEvent("CaptchaDataOptionsUpdated",{detail:{inputParams:{unifiedCaptchaId:i,dataExchange:r}}});return window.dispatchEvent(l),s.activateCaptcha(!0),s.loginLayout.isProcessing=!1,void v.ReactLoginService.utils.incrementEphemeralCounter(u.counters.captcha);case u.errorCodes.passwordResetRequired:return v.ReactLoginService.utils.incrementEphemeralCounter(u.counters.passwordResetRequired),void v.ReactLoginService.utils.navigateToSecurityNotificationPage()}t===u.errorCodes.unverifiedCredentials&&s.loginFormData.enteredCredentialType===u.credentialTypes.email?(v.ReactLoginService.utils.incrementEphemeralCounter(u.counters.unverifiedAccount),n={credentialType:u.credentialTypes.email,credentialValue:s.loginFormData.credentialValue,password:s.loginFormData.password},v.ReactLoginService.canVerifyCredentials(n).then(function(e){e&&e.canSend?(s.promptUserToVerifyEmail(),s.loginLayout.isProcessing=!1):s.setErrorMessage(t)},function(){s.setErrorMessage(t)})):s.setErrorMessage(t,!0),t===u.errorCodes.badCredentials&&(s.invalidCredentialsCount+=1,s.loginPageIXP.Enabled&&(s.loginFailureEnrolled?s.applyInvalidCredentialsEnrollments():(s.loginFailureEnrolled=!0,s.getInvalidCredentialsEnrollments())))}else s.setErrorMessage(u.errorCodes.tooManyAttempts,!0)},s.promptUserToVerifyEmail=function(){n.open({backdrop:"static",templateUrl:u.templates.verifyEmail,controller:u.controllers.verifyEmail,resolve:{injectedData:{context:s.loginParams.context,email:s.loginFormData.credentialValue,password:s.loginFormData.password}}}).result.then(p().noop,p().noop)},s.setErrorMessage=function(e,n){var t=e===u.errorCodes.defaultLoginRequired||e===u.errorCodes.unverifiedCredentials;if(s.loginParams.redirectToLoginPageOnError||s.loginParams.redirectToLoginPageWhenUsernameIsRequired&&t){var r={errorCode:e,ctype:s.loginFormData.enteredCredentialType};return t||(r.username=s.loginFormData.credentialValue),v.ReactLoginService.utils.incrementEphemeralCounter(u.counters.redirectToLogin),void(i.location.href=s.loginFormData.loginPageUrl+d.urlQueryStringPrefix+o(r))}s.loginLayout.isProcessing=!1,s.loginLayout.error=s.getErrorMessage(e,n),s.loginLayout.showCrossDeviceError=!1},s.getErrorMessage=function(e,n){switch(e){case u.errorCodes.badCredentials:return n&&v.ReactLoginService.utils.incrementEphemeralCounter(u.counters.invalidCredentials),s.getInvalidCredentialsErrorMessage();case u.errorCodes.accountNotFound:return n&&v.ReactLoginService.utils.incrementEphemeralCounter(u.counters.accountNotFound),l.get("Response.AccountNotFound");case u.errorCodes.noPassword:return n&&v.ReactLoginService.utils.incrementEphemeralCounter(u.counters.noPassword),l.get("Response.UseSocialSignOn");case u.errorCodes.accountIssue:return n&&v.ReactLoginService.utils.incrementEphemeralCounter(u.counters.accountIssue),l.get("Response.AccountIssueErrorContactSupport");case u.errorCodes.tooManyAttempts:return n&&v.ReactLoginService.utils.incrementEphemeralCounter(u.counters.tooManyAttempts),l.get("Response.TooManyAttemptsPleaseWait");case u.errorCodes.defaultLoginRequired:n&&v.ReactLoginService.utils.incrementEphemeralCounter(u.counters.defaultLoginRequired);var t=s.getDefaultLoginRequiredErrorMessage();return s.handleDefaultLoginRequired(t),null;case u.errorCodes.unverifiedCredentials:n&&v.ReactLoginService.utils.incrementEphemeralCounter(u.counters.unverifiedAccount);t=s.getUnverifiedCredentialsErrorMessage();return s.handleDefaultLoginRequired(t),null;case u.errorCodes.captchaLoadFailed:return n&&v.ReactLoginService.utils.incrementEphemeralCounter(u.counters.captchaLoadFailed),l.get("Response.CaptchaErrorFailedToLoad");case u.errorCodes.captchaVerifyFailed:return n&&v.ReactLoginService.utils.incrementEphemeralCounter(u.counters.captchaVerifyFailed),l.get("Response.CaptchaErrorFailedToVerify");case u.errorCodes.luoBuUserDenied:return n&&v.ReactLoginService.utils.incrementEphemeralCounter(u.counters.luoBuUserDenied),l.get("Response.GlobalAppAccessError");case u.errorCodes.captchaUnknownError:return n&&v.ReactLoginService.utils.incrementEphemeralCounter(u.counters.captchaUnknownError),l.get("Message.UnknownErrorTryAgain");case u.errorCodes.screentimeRestricted:return n&&v.ReactLoginService.utils.incrementEphemeralCounter(u.counters.screentimeRestricted),l.get("Description.CurfewMessage");default:return n&&v.ReactLoginService.utils.incrementEphemeralCounter(u.counters.unknownError),l.get("Message.UnknownErrorTryAgain")}},s.activateCaptcha=function(e){s.loginLayout.forceCaptcha=e,s.loginLayout.isProcessing=!1},s.getInvalidCredentialsErrorMessage=function(){switch(s.loginFormData.enteredCredentialType){case u.credentialTypes.email:return l.get("Response.IncorrectEmailOrPassword");case u.credentialTypes.phone:return l.get("Response.IncorrectPhoneOrPassword");default:return l.get("Response.IncorrectUsernamePassword")}},s.getDefaultLoginRequiredErrorMessage=function(){switch(s.loginFormData.enteredCredentialType){case u.credentialTypes.email:return l.get("Response.EmailLinkedToMultipleAccountsLoginWithUsername");case u.credentialTypes.phone:return l.get("Response.LoginWithUsername");default:return""}},s.getUnverifiedCredentialsErrorMessage=function(){switch(s.loginFormData.enteredCredentialType){case u.credentialTypes.email:return l.get("Response.UnverifiedEmailLoginWithUsername");case u.credentialTypes.phone:return l.get("Response.UnverifiedPhoneLoginWithUsername");default:return""}},s.handleDefaultLoginRequired=function(e){s.loginFormData.isDefaultLoginRequired=!0,s.loginFormData.credentialValue=null,s.loginFormData.password=null,e&&g.warning(e)},s.getRedirectUrl=function(e){var n=s.loginParams.returnUrl;if(e&&(e.userId||e.user&&e.user.id)){if(n){n=s.addNewLoginQueryStringToUrl(n);return r.getAbsoluteUrl(n)}return s.loginParams.redirectToHomePostLogin?s.loginFormData.homeUrl+d.urlQueryStringPrefix+o({nl:!0}):e.identityVerificationLoginTicket?(v.ReactIdentityVerificationService.storeIdentityVerificationLoginTicket(e.identityVerificationLoginTicket),r.getAbsoluteUrl(u.urls.koreaIdVerification)):s.getCurrentLocation()}return r.getAbsoluteUrl("/")},s.getCurrentLocation=function(){var e=i.location.href,n=e?e.indexOf(d.hashSign):-1;return-1<n&&(e=e.slice(0,-1*(e.length-n))),s.addNewLoginQueryStringToUrl(e)},s.addNewLoginQueryStringToUrl=function(e){if(!e)return"/";var n=e;return-1<e.indexOf(d.urlQueryStringPrefix)?n+=d.urlQueryParameterSeparator:n+=d.urlQueryStringPrefix,n+=u.newLoginQueryString},s.loginWithFb=function(){s.sendInteractionClickEvent(u.fbLoginButtonName),i.location.href=s.loginFormData.redirectToFb},s.sendInteractionClickEvent=function(e){v.FormEvents&&v.FormEvents.SendInteractionClick(s.loginParams.context,e)},s.quickLogin=function(){s.sendInteractionClickEvent(u.quickLoginButtonName),v.CrossDeviceLoginDisplayCodeService.openModal()},s.showUnknownError=function(){s.loginLayout.error=l.get("Message.UnknownErrorTryAgain")},s.showIdentityVerificationNoticeModal=function(){m.open({titleText:l.get("Title.VerificationRequired"),bodyText:l.get("Description.VerificationRequired"),neutralButtonText:l.get("Action.StartVerification"),onNeutral:v.ReactIdentityVerificationService.startIdentityVerification}).result.then(function(){},function(){v.ReactIdentityVerificationService.startIdentityVerification()})},s.submit=function(e,n){s.clearError(),s.loginFormData.credentialValue&&s.loginFormData.password?(e&&(s.sendInteractionClickEvent(u.loginSubmitButtonName),v.ReactLoginService.utils.incrementEphemeralCounter(u.counters.attempt),s.loginLayout.isFirstSubmit&&(s.loginLayout.isFirstSubmit=!1,v.ReactLoginService.utils.incrementEphemeralCounter(u.counters.firstAttempt))),s.loginLayout.isProcessing=!0,s.loginFormData.enteredCredentialType=u.credentialTypes.username,s.login(n)):s.loginParams.redirectToLoginPageOnError||(s.loginLayout.error=l.get("Message.UsernameAndPasswordRequired"))},s.clearError=function(){s.loginLayout.error=null,s.loginLayout.showCrossDeviceError=!1},s.getCredentialPlaceholder=function(){return s.loginFormData.isDefaultLoginRequired?l.get("Label.Username"):l.get("Label.UsernameEmailPhone")}}o.$inject=["$scope","$injector","$window","$timeout","$httpParamSerializerJQLike","$uibModal","urlService","phoneService","languageResource","loginService","loginConstants","urlConstants","systemFeedbackService","modalService"],r.Z.controller("loginFormController",o),n.default=o},6024:function(e,n,t){"use strict";t.r(n);t=t(1030);function r(n,t,r,i,o,a){n.layout={},n.init=function(){n.layout.headerText=o.get("Label.EmailNeedsVerification"),t.sendModalShownEvent(a.context+i.verifyEmailContextSuffix)},n.sendVerificationEmail=function(){n.layout.error=null,n.layout.isSubmitBusy=!0;var e={credentialType:i.credentialTypes.email,credentialValue:a.email,password:a.password};r.verifyCredentials(e).then(function(){n.layout.headerText=o.get("Label.VerificationEmailSent"),n.layout.emailSent=!0,n.sendSendVerificationEmailEvent(!0)},function(e){(e&&e.data&&e.data.errors&&0<e.data.errors.length&&e.data.errors[0].code)===i.sendVerificationEmailErrorCodes.tooManyAttempts?n.layout.error=o.get("Response.TooManyAttemptsPleaseWait"):n.layout.error=o.get("Message.UnknownErrorTryAgain"),n.sendSendVerificationEmailEvent(!1)}).finally(function(){n.layout.isSubmitBusy=!1})},n.sendSendVerificationEmailEvent=function(e,n){t.sendEventWithTarget(t.eventNames.account.sendVerificationEmail,a.context+i.verifyEmailContextSuffix,{success:e,msg:n})},n.init()}r.$inject=["$scope","eventStreamService","loginService","loginConstants","languageResource","injectedData"],t.Z.controller("verifyEmailController",r),n.default=r},5008:function(e,n,t){"use strict";function r(){return{restrict:"A",replace:!1,templateUrl:"login-base",controller:"loginController",link:function(e,n,t){e.loginBaseParams={returnUrl:t.returnUrl}}}}t.r(n),t(1030).Z.directive("loginBase",r),n.default=r},5578:function(e,n,t){"use strict";function r(){return{restrict:"A",replace:!1,templateUrl:"login-form",controller:"loginFormController",scope:{},link:function(e,n,t){e.loginParams={context:t.context,redirectToLoginPageOnError:"true"===t.redirectToLoginPageOnError,redirectToHomePostLogin:"true"===t.redirectToHomePostLogin,redirectToLoginPageWhenUsernameIsRequired:"true"===t.redirectToLoginPageWhenUsernameIsRequired,includeMessageBanner:"true"===t.includeMessageBanner,returnUrl:t.returnUrl}}}}t.r(n),t(1030).Z.directive("loginForm",r),n.default=r},1030:function(e,n,t){"use strict";var a=t(792),r=t(5734),r=t.n(r)().module("login",["robloxApp","roblox.formEvents","modal","captchaV2","systemFeedback"]).config(["languageResourceProvider",function(e){var n=new a.TranslationResourceProvider,t=n.getTranslationResource("Authentication.Login"),r=n.getTranslationResource("Authentication.Captcha"),r=n.getTranslationResource("Common.Captcha"),i=n.getTranslationResource("Feature.Screentime"),o=n.getTranslationResource("Authentication.TwoStepVerification"),n=n.getTranslationResource("Feature.IdVerification");e.setTranslationResources([t,r,i,o,n])}]);n.Z=r},5387:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return o}});var r=t(792),i=CoreUtilities,o={getIXPEnrollments:function(e){var n={url:"".concat(r.EnvironmentUrls.apiGatewayUrl,"/product-experimentation-platform/v1/projects/1/layers/").concat(e.Layer,"/values"),withCredentials:!0},e={parameters:e.Parameters.join(",")};return i.httpService.get(n,e).then(function(e){return null!=e&&e.data?e.data:Promise.reject()})},isBrowserLanguageEnglish:function(){return/^en\b/.test(navigator.language)}}},4260:function(e,n,t){"use strict";t.r(n);var o=t(792),t=t(1030);function r(i,t){function r(e){return o.EnvironmentUrls.authApi+e}return{login:function(e){var n={url:r(t.urls.loginApi)};return i.httpPost(n,e,!0)},getReturnUrl:function(){return window.Roblox.Auth&&window.Roblox.Auth.returnUrl},loginWithVerificationToken:function(e,n,t,r){return i.httpPost({url:"".concat(o.EnvironmentUrls.authApi,"/v3/users/").concat(e,"/two-step-verification/login")},{challengeId:n,verificationToken:t,rememberDevice:r})},verifyCredentials:function(e){var n={url:r(t.urls.credentialsVerificationSendApi)};return i.httpPost(n,e,!0)}}}r.$inject=["httpService","loginConstants"],t.Z.factory("loginService",r),n.default=r},1518:function(e){e.exports='<div class="modal-header"> <button type="button" class="close" ng-click="$dismiss()"> <span aria-hidden="true"><span class="icon-close"></span></span><span class="sr-only" ng-bind="\'Action.Ok\' | translate"></span> </button> <h4 ng-bind="layout.headerText"></h4> </div> <div class="modal-body"> <div ng-class="{\'form-has-error form-has-feedback\' : layout.error}"> <div ng-bind="\'Label.UnverifiedEmailInstructions\' | translate"> </div> <p class="form-control-label" ng-bind="layout.error"> </p> </div> </div> <div class="modal-footer"> <div toggle-loading is-loading="layout.isSubmitBusy"> <button type="submit" class="btn-secondary-md btn-full-width" ng-click="sendVerificationEmail()" ng-show="!layout.emailSent" ng-bind="\'Action.SendVerificationEmail\' | translate"></button> <button type="submit" class="btn-fixed-width btn-control-md" ng-click="$dismiss()" ng-show="layout.emailSent" ng-bind="\'Action.Ok\' | translate"></button> <div ng-show="layout.emailSent" class="resend-email-container"> <span ng-bind="\'Label.NotReceived\' | translate"></span> <span ng-click="sendVerificationEmail()" class="text-link resend-email-link" ng-bind="\'Action.ResendEmail\' | translate"> </span> </div> </div> </div>'},5686:function(e){e.exports='<div id="login-base"> <div class="section-content login-section"> <h2 class="login-header" ng-bind="\'Heading.LoginRoblox\' | translate"></h2> <div login-form context="loginPage" redirect-to-home-post-login="false" include-message-banner="true" data-return-url="{{loginBaseParams.returnUrl}}"> </div> <div class="text-center"> <div class="signup-option"> <span class="no-account-text" ng-bind="\'Label.NoAccount\' | translate"></span> <a id="sign-up-link" class="text-link signup-link" href="{{loginData.signUpUrl}}" target="_self" ng-bind="\'Action.SignUpCapitalized\' | translate"></a> </div> </div>'},367:function(e){e.exports='<div id="login-form"> <div ng-init="init(\'login\')"> <system-feedback ng-if="loginParams.includeMessageBanner"></system-feedback> <div class="login-form-container"> <form class="login-form" role="form" name="loginForm" rbx-form-context context="{{loginParams.context}}"> <div class="form-group username-form-group"> <input id="login-username" name="username" type="text" class="form-control input-field" placeholder="{{getCredentialPlaceholder()}}" ng-model="loginFormData.credentialValue" ng-keypress="clearError()" rbx-form-interaction/> </div> <div class="form-group password-form-group"> <input id="login-password" name="password" type="password" class="form-control input-field" placeholder="{{\'Label.Password\' | translate}}" ng-model="loginFormData.password" key-press-enter="submit(true)" ng-keypress="clearError()" rbx-form-interaction/> <p class="form-control-label xsmall text-error login-error" ng-bind="loginLayout.error" ng-show="!loginLayout.showCrossDeviceError"> </p> <p class="form-control-label xsmall text-error login-error" ng-show="loginLayout.showCrossDeviceError"> <span ng-bind="loginPageIXP.ErrorStart"/> <u><a ng-click="quickLogin()" ng-bind="loginPageIXP.ErrorLink"/></u> <span ng-bind="loginPageIXP.ErrorEnd"/> </p> </div> <div toggle-loading is-loading="loginLayout.isProcessing"> <button id="login-button" class="btn-full-width login-button" ng-class="loginLayout.usePrimaryButtonClass ? \'btn-primary-md\' : \'btn-secondary-md\'" ng-bind="\'Action.LogInCapitalized\' | translate" ng-click="submit(true)"></button> </div> <div class="text-center forgot-credentials-link"> <a id="forgot-credentials-link" class="text-link" href="{{loginFormData.forgotCredentialsUrl}}" target="_self" ng-bind="\'Action.ForgotPasswordOrUsernameQuestionCapitalized\' | translate"></a> </div> </form> <div> <div class="fb-divider-container"> <div class="rbx-divider fb-divider"></div> <div class="divider-text-container"> <span class="divider-text xsmall" ng-bind="\'Label.LoginWithYour\' | translate"></span> </div> </div> <button ng-if="crossDeviceLoginParams.IsLoginCodeButtonDisplayed" id="cross-device-login-button" class="btn-full-width btn-control-md cross-device-login-button" ng-click="quickLogin()"> <span ng-bind="(!!loginPageIXP.ButtonText) ? loginPageIXP.ButtonText :\r\n                    (\'Action.DeviceCode\' | translate)"></span> </button> </div> </div> <div id="crossDeviceLoginDisplayCodeModal-container"> <div crossDeviceLoginDisplayCodeModal-container></div> </div> <div id="securityQuestionsModal-container"></div> <div id="react-login-container"></div> </div> </div> '},792:function(e){"use strict";e.exports=Roblox},5734:function(e){"use strict";e.exports=angular}},r={};function o(e){if(r[e])return r[e].exports;var n=r[e]={exports:{}};return t[e](n,n.exports,o),n.exports}o.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(n,{a:n}),n},o.d=function(e,n){for(var t in n)o.o(n,t)&&!o.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},o.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e=o(5734),n=o.n(e),t=o(726),r=o(1030);(0,t.importFilesUnderPath)(o(7544)),(0,t.importFilesUnderPath)(o(6474)),(0,t.importFilesUnderPath)(o(8126)),(0,t.importFilesUnderPath)(o(5286));var e=o(3599),i=(0,t.templateCacheGenerator)(n(),"loginAppTemplates",e);n().element(function(){n().bootstrap("#login-container",[r.Z.name,i.name])})}()}();
//# sourceMappingURL=https://js.rbxcdn.com/dc12ad11a9c5a9f7ba76-login.js.map

/* Bundle detector */
window.Roblox && window.Roblox.BundleDetector && window.Roblox.BundleDetector.bundleDetected("Login");